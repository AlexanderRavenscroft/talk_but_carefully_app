void didChangeDependencies() {
  super.didChangeDependencies();
  if (ModalRoute.of(context)!.isCurrent) {
    _resetVariables();
  }
}
    void _resetVariables() {
    setState(() {
                   teamA = Team("Drużyna I", [], TeamColors.teamRedColor, 0, 0);
          teamB = Team("Drużyna II", [], TeamColors.teamBlueColor, 0, 0);
         currentGameStage = 0;
      currentRound = 1;
      teamPlayerIndexes[teamA] = 0;
      teamPlayerIndexes[teamB] = 0;
currentScreen = Screen.encounter;
currentTeam = teamA;
 isTeamBTurn = false;

    });
  }


    return PopScope(
      canPop: true,
      onPopInvokedWithResult: (didPop, result) {
        if(didPop) {
           debugPrint('User is navigating back to the previous screen');
        }
      },

      child: Scaffold ....
    )